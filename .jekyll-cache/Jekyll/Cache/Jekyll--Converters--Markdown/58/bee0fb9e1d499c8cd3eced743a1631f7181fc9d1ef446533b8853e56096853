I"ãV<ul>
  <li>ê¸°ì¡´ì˜ JDBC í”„ë¡œê·¸ë¨(DAO)ì€ ë°˜ë³µì ì´ê³  ê¸´ ì½”ë“œë¡œ ì¸í•´ ìœ ì§€ ë³´ìˆ˜ì— ì–´ë ¤ì›€ì„ ì£¼ì—ˆë‹¤. Springì€ Spring JDBCë¥¼ ì œê³µí•˜ì—¬ ë¬¸ì œ í•´ê²°ì— ë„ì›€ì„ ì¤€ë‹¤.</li>
</ul>

<h3 id="spring-jdbc">Spring JDBC</h3>

<p><img src="/img/posts/spring/springjdbc.png" alt="springjdbc" /></p>

<ul>
  <li>ê¸°ì¡´ì˜ Plain JDBCì˜ ê¸°ëŠ¥ì„ Spring JDBCê°€ ëª¨ë‘ ì œê³µí•´ì¤€ë‹¤.</li>
</ul>

<h4 id="spring-jdbc-ì‚¬ìš©-ë°©ë²•">Spring JDBC ì‚¬ìš© ë°©ë²•</h4>

<p>dataSource.properties</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#DataSource Properties 
</span><span class="n">jdbc</span><span class="p">.</span><span class="n">driveClassName</span><span class="o">=</span><span class="n">org</span><span class="p">.</span><span class="n">h2</span><span class="p">.</span><span class="n">Driver</span>
<span class="n">jdbc</span><span class="p">.</span><span class="n">url</span><span class="o">=</span><span class="n">jdbc</span><span class="p">:</span><span class="n">h2</span><span class="p">:</span><span class="n">tcp</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="o">/~/</span><span class="n">test</span>
<span class="n">jdbc</span><span class="p">.</span><span class="n">username</span><span class="o">=</span><span class="n">username</span>
<span class="n">jdbc</span><span class="p">.</span><span class="n">password</span><span class="o">=</span><span class="n">password</span>
</code></pre></div></div>

<ul>
  <li>DB Serverì— ëŒ€í•œ property ì„¤ì •</li>
  <li>dataSource.properties ì„ í†µí•´ .xml íŒŒì¼ ë³€ê²½ ì—†ì´ DB ë³€ê²½ì´ ê°€ëŠ¥í•´ì§„ë‹¤.</li>
</ul>

<p>.xml íŒŒì¼</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;beans</span>    <span class="err">...ìƒëµ...</span> <span class="nt">&gt;</span>

	<span class="c">&lt;!-- DataSource ë“±ë¡ --&gt;</span>
	<span class="nt">&lt;context:property-placeholder</span> <span class="na">location=</span><span class="s">"classpath:datasource.properties"</span><span class="nt">/&gt;</span>
	
	<span class="c">&lt;!-- DataSource ì„¤ì • ì •ë³´ ì…ë ¥ --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"dataSource"</span> <span class="na">class=</span><span class="s">"org.apache.commons.dbcp.BasicDataSource"</span>
	<span class="na">destroy-method=</span><span class="s">"close"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"driverClassName"</span> <span class="na">value=</span><span class="s">"${jdbc.driveClassName}"</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"url"</span> <span class="na">value=</span><span class="s">"${jdbc.url}"</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"username"</span> <span class="na">value=</span><span class="s">"${jdbc.username}"</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"password"</span> <span class="na">value=</span><span class="s">"${jdbc.password}"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>

	<span class="c">&lt;!-- JdbcTemplate bean ë“±ë¡--&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">"org.springframework.jdbc.core.JdbcTemplate"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"dataSource"</span> <span class="na">ref=</span><span class="s">"dataSource"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
</code></pre></div></div>

<ul>
  <li>Spring contatinerê°€ DataSourceë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë“±ë¡í•´ì¤€ë‹¤.</li>
  <li>datasource.properties íŒŒì¼ì˜ ì—°ê²° ì •ë³´ë¥¼ <code class="language-plaintext highlighter-rouge">id="dataSource"</code> ì¸ beanì— ì—°ê²°í•´ì¤€ë‹¤.
    <blockquote>
      <ul>
        <li>destory-methodë¥¼ ì´ìš©í•˜ì—¬ bean ì†Œë©¸ ì „ close ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•´ì¤€ë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>Spring JDBC ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ JdbcTemplateë¥¼ bean ë“±ë¡í•´ì•¼ í•œë‹¤.
    <blockquote>
      <ul>
        <li>setter ì£¼ì…ì„ í†µí•´ dataSource ê°ì²´ë¥¼ ì£¼ì…í•´ì¤€ë‹¤.</li>
        <li>DAO í´ë˜ìŠ¤ì—ì„œ @Autowiredë¥¼ ì´ìš©í•´ íƒ€ì…ì„ ì£¼ì…í•´ì¤„ ê²ƒì´ë‹¤.</li>
      </ul>
    </blockquote>
  </li>
</ul>

<p><br /></p>

<p>StudentDAOSpring.java</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span> <span class="c1">//DAO ê°ì²´ ë“±ë¡</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StudentDAOSpring</span> <span class="kd">implements</span> <span class="nc">StudentDAO</span><span class="o">{</span>
	
	<span class="nd">@Autowired</span> <span class="c1">//íƒ€ì… ì£¼ì…</span>
	<span class="kd">private</span> <span class="nc">JdbcTemplate</span> <span class="n">spring</span><span class="o">;</span>
	
	<span class="c1">// SQL ëª…ë ¹ì–´</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_INSERT</span> <span class="o">=</span> <span class="s">"insert into student(num, sex, name, role) values((select nvl(max(seq), 0) + 1 from student), ?, ?, ?)"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_UPDATE</span> <span class="o">=</span> <span class="s">"update student set name = ?, role = ? where num = ?"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_DELETE</span> <span class="o">=</span> <span class="s">"delete student where num = ?"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_LIST_N</span> <span class="o">=</span> <span class="s">"select * from student where name like '%'||?||'%' order by num desc"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_LIST_R</span> <span class="o">=</span> <span class="s">"select * from student where role like '%'||?||'%' order by num desc"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">STUDENT_GET</span>  <span class="o">=</span> <span class="s">"select * from student where num = ?"</span><span class="o">;</span>
	
	<span class="c1">// CRUD ê¸°ëŠ¥ì˜ ë©”ì†Œë“œ</span>
	<span class="c1">// í•™ìƒ ì •ë³´ ë“±ë¡</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertStudent</span><span class="o">(</span><span class="nc">StudentVO</span> <span class="n">vo</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; SPRING ê¸°ë°˜ìœ¼ë¡œ insertStudent() ê¸°ëŠ¥ ì²˜ë¦¬"</span><span class="o">);</span>
		<span class="n">spring</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="no">STUDENT_INSERT</span><span class="o">,</span> <span class="n">vo</span><span class="o">.</span><span class="na">getSex</span><span class="o">(),</span> <span class="n">vo</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="n">vo</span><span class="o">.</span><span class="na">getRole</span><span class="o">());</span>
		
	<span class="o">}</span>
	
	<span class="c1">// í•™ìƒ ì •ë³´ ìˆ˜ì •</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateStudent</span><span class="o">(</span><span class="nc">StudentVO</span> <span class="n">vo</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; SPRING ê¸°ë°˜ìœ¼ë¡œ updateStudent() ê¸°ëŠ¥ ì²˜ë¦¬"</span><span class="o">);</span>
		<span class="n">spring</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="no">STUDENT_UPDATE</span><span class="o">,</span><span class="n">vo</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span><span class="n">vo</span><span class="o">.</span><span class="na">getRole</span><span class="o">(),</span><span class="n">vo</span><span class="o">.</span><span class="na">getNum</span><span class="o">());</span>
	<span class="o">}</span>
	
	<span class="c1">// í•™ìƒ ì •ë³´ ì‚­ì œ</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteStudent</span><span class="o">(</span><span class="nc">StudentVO</span> <span class="n">vo</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; SPRING ê¸°ë°˜ìœ¼ë¡œ deleteStudent() ê¸°ëŠ¥ ì²˜ë¦¬"</span><span class="o">);</span>
		<span class="n">spring</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="no">STUDENT_DELETE</span><span class="o">,</span><span class="n">vo</span><span class="o">.</span><span class="na">getNum</span><span class="o">());</span>
	<span class="o">}</span>
    
    <span class="c1">// í•™ìƒ ìƒì„¸ ì¡°íšŒ</span>
	<span class="kd">public</span> <span class="nc">StudentVO</span> <span class="nf">getStudent</span><span class="o">(</span><span class="nc">StudentVO</span> <span class="n">vo</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; SPRING ê¸°ë°˜ìœ¼ë¡œ getStudent() ê¸°ëŠ¥ ì²˜ë¦¬"</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">spring</span><span class="o">.</span><span class="na">queryForObject</span><span class="o">(</span><span class="no">STUDENT_GET</span><span class="o">,</span> <span class="k">new</span> <span class="nc">StudentRowMapper</span><span class="o">(),</span> <span class="n">vo</span><span class="o">.</span><span class="na">getNum</span><span class="o">());</span>
	<span class="o">}</span>
	
	<span class="c1">// í•™ìƒ ëª©ë¡ ê²€ìƒ‰</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">StudentVO</span><span class="o">&gt;</span> <span class="nf">getStudentList</span><span class="o">(</span><span class="nc">StudentVO</span> <span class="n">vo</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; SPRING ê¸°ë°˜ìœ¼ë¡œ getStudentList() ê¸°ëŠ¥ ì²˜ë¦¬"</span><span class="o">);</span>
		<span class="k">if</span><span class="o">(</span><span class="n">vo</span><span class="o">.</span><span class="na">getSearchCondition</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"NAME"</span><span class="o">))</span> <span class="o">{</span>
			<span class="k">return</span> <span class="n">spring</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="no">STUDENT_LIST_N</span><span class="o">,</span> <span class="k">new</span> <span class="nc">StudentRowMapper</span><span class="o">(),</span> <span class="n">vo</span><span class="o">.</span><span class="na">getSearchKeyword</span><span class="o">()</span> <span class="o">);</span>
		<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">vo</span><span class="o">.</span><span class="na">getSearchCondition</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ROLE"</span><span class="o">))</span> <span class="o">{</span>
			<span class="k">return</span> <span class="n">spring</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="no">STUDENT_LIST_R</span><span class="o">,</span><span class="k">new</span> <span class="nc">StudentRowMapper</span><span class="o">(),</span> <span class="n">vo</span><span class="o">.</span><span class="na">getSearchCondition</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
		<span class="o">}</span>
<span class="o">}</span>
    
</code></pre></div></div>

<ul>
  <li>JdbcTemplate ê°ì²´ì˜ update() ë©”ì†Œë“œë¡œ sqlë¬¸ì˜ insert, update, delete ë¬¸ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</li>
  <li>JdbcTemplate ê°ì²´ì˜ queryForObject() ë©”ì†Œë“œë¡œ ê°ì²´ 1ê°œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</li>
  <li>JdbcTemplate ê°ì²´ì˜ query() ë©”ì†Œë“œë¡œ ê°ì²´ ì—¬ëŸ¬ ê°œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</li>
  <li>JdbcTemplate ê°ì²´ì—ì„œ sqlë¬¸ì˜ selectë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” RowMapper() ê°ì²´ê°€ í•„ìš”í•˜ë‹¤.</li>
</ul>

<p>StudentRowMapper.java</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.RowMapper</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StudentRowMapper</span> <span class="kd">implements</span> <span class="nc">RowMapper</span><span class="o">&lt;</span><span class="nc">StudentVO</span><span class="o">&gt;</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">StudentVO</span> <span class="nf">mapRow</span><span class="o">(</span><span class="nc">ResultSet</span> <span class="n">rs</span><span class="o">,</span> <span class="kt">int</span> <span class="n">rowNum</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">SQLException</span> <span class="o">{</span>
		<span class="nc">StudentVO</span> <span class="n">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StudentVO</span><span class="o">();</span>
		<span class="n">student</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"NUM"</span><span class="o">));</span>
		<span class="n">student</span><span class="o">.</span><span class="na">setSex</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"SEX"</span><span class="o">));</span>
		<span class="n">student</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"NAME"</span><span class="o">));</span>
		<span class="n">student</span><span class="o">.</span><span class="na">setRole</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"ROLE"</span><span class="o">));</span>
		<span class="n">student</span><span class="o">.</span><span class="na">setRegDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">"REGDATE"</span><span class="o">));</span>
		<span class="k">return</span> <span class="n">student</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>RowMapper ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.</li>
  <li>ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ResultSetì˜ ROWë¥¼ ì–´ë–¤ ìë°”ê°ì²´(VO)ì— ë§¤í•‘í•  ê²ƒì¸ì§€ë¥¼ ê¸°ìˆ í•œë‹¤.</li>
</ul>

<p><br /></p>

<h3 id="transactioníŠ¸ëœì­ì…˜">Transaction(íŠ¸ëœì­ì…˜)</h3>
<ul>
  <li>ë¶„ë¦¬ë  ìˆ˜ ì—†ëŠ” ì—…ë¬´ì²˜ë¦¬ì˜ ë‹¨ìœ„ì„ ì˜ë¯¸í•œë‹¤.</li>
  <li>Transactionì˜ ì¤‘ìš”ì„± ì˜ˆì‹œ
    <blockquote>
      <ul>
        <li>ì€í–‰ì—ì„œ Aê°€ Bì—ê²Œ 100ë§Œì›ì„ ì†¡ê¸ˆì„ í•œë‹¤. -&gt; Aì˜ í†µì¥ì—ì„œ 100ë§Œì›ì´ ë¹ ì ¸ë‚˜ê°„ë‹¤. -&gt; ì „ê¸°ê°€ ëŠê¸´ë‹¤. -&gt; BëŠ” 100ë§Œì›ì„ ë°›ì§€ ëª»í–ˆë‹¤. -&gt; Aì˜  í†µì¥ì—ì„œëŠ” 100ë§Œì›ì´ ë¹ ì ¸ë‚˜ê°”ë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>ì¸ì¶œê³¼ ì…ê¸ˆì²˜ëŸ¼ ë¶€ë¶„ ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ ëª¨ë“  ì‘ì—…ì„ ì‹¤íŒ¨ì‹œì¼œì•¼ í•˜ê³  ëª¨ë“  ì‘ì—…ì´ ì„±ê³µí•´ì•¼ ì„±ê³µí•˜ëŠ” ì‘ì—… ë‹¨ìœ„ë¥¼ Transactionì´ë¼ í•œë‹¤.</li>
  <li>Commit(ì»¤ë°‹) : ëª¨ë“  ë¶€ë¶„ ì‘ì—…ì´ ì„±ê³µí•˜ë©´ í•œë²ˆì— DBì— ë°˜ì˜í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</li>
  <li>Rollback(ë¡¤ë°±) : ë¶€ë¶„ ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ Transaction ì‹¤í–‰ ì „ìœ¼ë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.</li>
  <li>Springì€ Transaction ê´€ë¦¬ìë¥¼ ì§€ì›í•œë‹¤.</li>
</ul>

<p><br /></p>
<h3 id="springì˜-transactioníŠ¸ëœì­ì…˜">Springì˜ Transaction(íŠ¸ëœì­ì…˜)</h3>

<ul>
  <li>.xml íŒŒì¼ì˜ Namespaces-<code class="language-plaintext highlighter-rouge">tx</code> ì²´í¬ (Eclipse ê¸°ì¤€)</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Transaction --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"txManager"</span> <span class="na">class=</span><span class="s">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"dataSource"</span> <span class="na">ref=</span><span class="s">"dataSource"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
</code></pre></div></div>

<ul>
  <li>Transaction ë§¤ë‹ˆì € bean ë“±ë¡í•˜ê³  setter ë°©ì‹ìœ¼ë¡œ dataSource ê°ì²´ë¥¼ ì£¼ì…í•´ì¤€ë‹¤.</li>
  <li>Transactionì€ AOPì˜ ê°œë…ì„ ì´ìš©í•œë‹¤.
    <blockquote>
      <ul>
        <li><a href="https://ddungi.github.io/java/2022/06/09/springAOP/"> ì°¸ê³ !! Spring AOP</a></li>
      </ul>
    </blockquote>
  </li>
  <li>Advice ì§€ì •</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ëª¨ë“  ë©”ì†Œë“œì—ì„œ ì˜ˆì™¸ ë°œìƒí•˜ë©´ ë¡¤ë°±ë˜ë©°, ì˜ˆì™¸ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ ì»¤ë°‹ëœë‹¤.--&gt;</span>
	<span class="nt">&lt;tx:advice</span> <span class="na">id=</span><span class="s">"txAdvice"</span> <span class="na">transaction-manager=</span><span class="s">"txManager"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;tx:attributes&gt;</span>
			<span class="nt">&lt;tx:method</span> <span class="na">name=</span><span class="s">"*"</span> <span class="na">rollback-for=</span><span class="s">"Exception"</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;/tx:attributes&gt;</span>
	<span class="nt">&lt;/tx:advice&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;tx:attributes&gt;</code>
    <blockquote>
      <ul>
        <li><code class="language-plaintext highlighter-rouge">name</code> :  Transactionì´ ì ìš©ë  ë©”ì†Œë“œ ì´ë¦„ ì§€ì • ( Ex: <code class="language-plaintext highlighter-rouge">*Service</code> : ì´ë¦„ì´ Serviceë¡œ ëë‚˜ëŠ” ë©”ì†Œë“œ)</li>
        <li><code class="language-plaintext highlighter-rouge">read-only</code> : ì½ê¸° ì „ìš© ì—¬ë¶€ë¥¼ ì§€ì • (defaultê°’ : false)</li>
        <li><code class="language-plaintext highlighter-rouge">no-rollback-for</code> : Transactionì„ ë¡¤ë°±í•˜ì§€ ì•Šì„ ì˜ˆì™¸ ì§€ì •</li>
        <li><code class="language-plaintext highlighter-rouge">rollback-for</code> : Transactionì„ ë¡¤ë°±í•  ì˜ˆì™¸ ì§€ì •</li>
      </ul>
    </blockquote>
  </li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- pointcut ì§€ì • --&gt;</span>
	<span class="nt">&lt;aop:config&gt;</span>
		<span class="nt">&lt;aop:pointcut</span> <span class="na">id=</span><span class="s">"txPointcut"</span> <span class="na">expression=</span><span class="s">"execution(* com.naver.biz..*Service.*(..))"</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;aop:advisor</span> <span class="na">pointcut-ref=</span><span class="s">"txPointcut"</span> <span class="na">advice-ref=</span><span class="s">"txAdvice"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/aop:config&gt;</span>
</code></pre></div></div>

<ul>
  <li>aspectëŠ” method ì´ë¦„ì„ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>
  <li>Transactionì—ì„œë§Œ advisor ì‚¬ìš©í•˜ì—¬ txPointcutê³¼ txAdviceë¥¼ ì—°ê²°í•´ì¤€ë‹¤.</li>
</ul>

<p><br /></p>

<p>Reference:</p>
<ul>
  <li><a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC_renew">inflean_img</a></li>
  <li><a href="https://gmlwjd9405.github.io/2018/05/15/setting-for-db-programming.html">[Spring JDBC] Spring JDBCë¥¼ ì´ìš©í•œ ë°ì´í„° ì ‘ê·¼ ë°©ë²•_gmlwjd9405</a></li>
  <li><a href="https://ahea.wordpress.com/2017/02/20/java-jdbc/">java-jdbc_ahea</a></li>
  <li><a href="https://mommoo.tistory.com/62">íŠ¸ëœì­ì…˜(Transaction)ì´ë€?_ mommoo</a></li>
  <li><a href="https://blog.outsider.ne.kr/870">[Spring ë ˆí¼ëŸ°ìŠ¤] 11ì¥ íŠ¸ëœì­ì…˜ ê´€ë¦¬ #2_ Outsiderâ€™s Dev Story</a></li>
</ul>
:ET