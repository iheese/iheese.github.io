I"ÚE<ul>
  <li>ì‹¤ìŠµì€ Eclipse STS4ì—ì„œ, JUnit5 ê¸°ì¤€ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.</li>
</ul>

<p><br /></p>

<h4 id="mockì„-ì‚¬ìš©í•˜ëŠ”-ì´ìœ ">Mockì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ </h4>

<ul>
  <li>ì–´ë–¤ ë©”ì†Œë“œ, ê¸°ëŠ¥ë¥¼ ìœ„í•œ ì‘ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ ì„œë²„ë¥¼ ëŒë ¤ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì€ ë©”ëª¨ë¦¬, ì‹œê°„ ë‚­ë¹„ì´ë‹¤.</li>
  <li>ë˜í•œ ë©”ì†Œë“œ, ê¸°ëŠ¥ì´ ê°•í•œ ì˜ì¡´ì„±ì— ê±¸ì³ ìˆë‹¤ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì–´ë µê³  ë³µì¡í•´ì§„ë‹¤.</li>
</ul>

<p><br /></p>
<h3 id="mock">Mock</h3>
<ul>
  <li>Mockì€ ê°€ì§œ ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.</li>
  <li>ê°œë°œìì— ì˜í•´ ì–´ë–¤ ê°’ì´ ì…ë ¥ë˜ë©´ ë¦¬í„´ë˜ëŠ” í–‰ìœ„ë¥¼ ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>
</ul>

<p><img src="/img/posts/test/mocking.png" alt="mocking " /></p>

<ul>
  <li>ê°€ì§œ ê°ì²´ì´ë¯€ë¡œ í…ŒìŠ¤íŠ¸ê°€ ê°€ë²¼ì›Œì§€ê³  ë¹¨ë¼ì§„ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.</li>
</ul>

<p><br /></p>
<h3 id="mock-ê´€ë ¨-annotation">Mock ê´€ë ¨ Annotation</h3>
<ul>
  <li>@ExtendWith(MockitoExtension.class) :
    <blockquote>
      <ul>
        <li>í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ Mockitoë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>@Mock :
    <blockquote>
      <ul>
        <li>ì‹¤ì œ ê°ì²´ ëŒ€ì‹  ê°€ì§œ ê°ì²´ë¡œ ì„ ì–¸í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. (ë¹ˆ ê»ë°ê¸° ìƒíƒœ)</li>
      </ul>
    </blockquote>
  </li>
  <li>@MockBean :
    <blockquote>
      <ul>
        <li>ê°€ì§œ ê°ì²´ë¥¼ Springì˜ Beanìœ¼ë¡œ ë“±ë¡í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</li>
        <li>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë„ì›Œì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²½ìš° í…ŒìŠ¤íŠ¸í•  ëŒ€ìƒì´ Beanì— ì˜ì¡´ì„±ì„ ê°€ì§€ê³  ìˆì„ ë•Œ ì‚¬ìš©í•œë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>@InjectMocks :
    <blockquote>
      <ul>
        <li>@Mock, @Spyìœ¼ë¡œ ì„ ì–¸í•œ ê°ì²´ë¥¼ ì£¼ì… ë°›ì„ í´ë˜ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.</li>
        <li>ì£¼ë¡œ í…ŒìŠ¤íŠ¸í•  í´ë˜ìŠ¤ë¥¼ í•„ë“œì„ ì–¸í•  ë•Œ ì‚¬ìš©ëœë‹¤.</li>
      </ul>
    </blockquote>
  </li>
</ul>

<p><br /></p>
<h3 id="spy">Spy</h3>
<ul>
  <li>SpyëŠ” Test code ìƒì—ì„œ ì‹¤ì œ ê°ì²´ë¥¼ ë˜‘ê°™ì´ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.</li>
  <li>ì‹¤ì œ ê°ì²´ë¥¼ ì“°ì§€ì•Šê³  Spyë¥¼ ì“°ëŠ” ì´ìœ ëŠ” Mock ê°ì²´ì—ì„œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ê²€ì¦ ë©”ì†Œë“œ(verify, assertEquals ë“±)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.</li>
  <li>ì§€ë‚˜ì¹˜ê²Œ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ ì½”ë“œë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ë‘ ë‹¤ë¥¼ ê²Œ ì—†ì–´ì§€ê¸° ë•Œë¬¸ì— ì ì ˆíˆ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>
</ul>

<p><br /></p>
<h3 id="spy-ê´€ë ¨-annotaion">Spy ê´€ë ¨ Annotaion</h3>
<ul>
  <li>@Spy :
    <blockquote>
      <ul>
        <li>Test Code ì—ì„œ ì‹¤ì œ ê°ì²´ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>@SpyBean :
    <blockquote>
      <ul>
        <li>Test Codeì—ì„œ ì‹¤ì œ ê°ì²´ì²˜ëŸ¼ ì‚¬ìš©í•  ê°ì²´ë¥¼ Springì˜ Beanìœ¼ë¡œ ë“±ë¡í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
          <blockquote>
            <ul>
              <li>SpyBeanì€ ì‹¤ì œ êµ¬í˜„ëœ ê°ì²´ë¥¼ ê°ì‹¸ëŠ” í”„ë¡ì‹œ ê°ì²´ í˜•íƒœì´ë¯€ë¡œ, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ì‹¤ì œ êµ¬í˜„ì²´ê°€ ë“±ë¡ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.</li>
            </ul>
          </blockquote>
        </li>
      </ul>
    </blockquote>
  </li>
</ul>

<p><br /></p>

<h3 id="mockito">Mockito</h3>
<ul>
  <li>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ Java Mocking í”„ë ˆì„ì›Œí¬ì´ë‹¤.</li>
  <li>JUnit ìœ„ì—ì„œ ë™ì‘í•˜ë©° Mock ê°ì²´ ìƒì„±, ê°ì²´ í–‰ìœ„, ê²€ì¦ê¹Œì§€ ì²˜ë¦¬í•´ì¤€ë‹¤.</li>
</ul>

<h3 id="mockito-ì‚¬ìš©í•˜ê¸°">Mockito ì‚¬ìš©í•˜ê¸°</h3>

<ul>
  <li>Spring Bootë¥¼ ì‚¬ìš©í•œë‹¤ë©´ spring-boot-starter-test ì˜ì¡´ì„± ë‚´ Mockitoê°€ í¬í•¨ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤. (mockito-core, mockito-junit-jupiter : JUnit5ì˜ Mockito í™•ì¥ êµ¬í˜„ì²´)</li>
  <li>Spring Bootë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´</li>
</ul>

<p>pom.xml(Maven)</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.mockito<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>mockito-core<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>4.6.1<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.mockito<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>mockito-junit-jupiter<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>4.6.1<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

</code></pre></div></div>

<p>build.gradle(Gradle)</p>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">testImplementation</span> <span class="nl">group:</span> <span class="s1">'org.mockito'</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">'mockito-core'</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">'4.6.1'</span>
<span class="n">testImplementation</span> <span class="nl">group:</span> <span class="s1">'org.mockito'</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">'mockito-junit-jupiter'</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">'4.6.1'</span>
</code></pre></div></div>

<ul>
  <li>í”„ë¡œì íŠ¸ ìƒí™©ì— ë§ê²Œ ë²„ì „ì„  ë³€ê²½í•˜ì—¬ ì‚¬ìš©í•˜ì.</li>
</ul>

<p><br /></p>

<h3 id="mock-ì‚¬ìš©-ì˜ˆì œ">Mock ì‚¬ìš© ì˜ˆì œ</h3>

<ul>
  <li>Spyë„ ìƒí™©ì— ë§ê²Œ Mockê³¼ ë˜‘ê°™ì´ ì‚¬ìš©í•˜ë©´ ë˜ë¯€ë¡œ Mockë§Œ ì •ë¦¬í•˜ê² ë‹¤.</li>
</ul>

<p><br /></p>
<h5 id="service-ë©”ì†Œë“œ-í…ŒìŠ¤íŠ¸ë¡œ-ê°„ë‹¨íˆ-ì•Œì•„ë³´ëŠ”-ì‚¬ìš©ë²•">Service ë©”ì†Œë“œ í…ŒìŠ¤íŠ¸ë¡œ ê°„ë‹¨íˆ ì•Œì•„ë³´ëŠ” ì‚¬ìš©ë²•</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">@ExtendWith(MockitoExtension.class), @Mock, @InjectMocks</code></li>
  <li>Service ê°ì²´ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ì§€ ì•Šê³  Mockì„ ì´ìš©í•˜ì—¬ ê°€ë³ê²Œ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.</li>
  <li>memberService.getMember(int memberId) - memberRepository.findById(int memberId) ë¡œ ì—°ê²°ë˜ëŠ” ìƒí™©ì´ë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ExtendWith</span><span class="o">(</span><span class="nc">MockitoExtension</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">//Mockito ì‚¬ìš© ì„ ì–¸</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestServiceTest</span> <span class="o">{</span>
	
	<span class="nd">@InjectMocks</span> <span class="c1">//ê°ì²´ ì£¼ì…ë°›ì„ í…ŒìŠ¤íŠ¸í•  í´ë˜ìŠ¤</span>
	<span class="kd">private</span> <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">;</span>
	
	<span class="nd">@Mock</span> <span class="c1">//ê°€ì§œ ê°ì²´ ìƒì„±</span>
	<span class="kd">private</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">;</span>
		
	<span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"Member ê°ì²´ ì¡°íšŒ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸"</span><span class="o">)</span>
	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">getMemberTest</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">//given</span>
        <span class="c1">//í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  ê°ì²´ ìƒì„±</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="nc">Member</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
						<span class="o">.</span><span class="na">memberId</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
						<span class="o">.</span><span class="na">memberUsername</span><span class="o">(</span><span class="s">"test"</span><span class="o">)</span>
						<span class="o">.</span><span class="na">memberPassword</span><span class="o">(</span><span class="s">"test111"</span><span class="o">)</span>
						<span class="o">.</span><span class="na">build</span><span class="o">();</span>
                        
		<span class="c1">//Mock ê°ì²´ í–‰ìœ„ ì •ì˜                        </span>
        <span class="n">when</span><span class="o">(</span><span class="n">memberRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getMemberId</span><span class="o">())).</span><span class="na">thenReturn</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
		
        <span class="c1">//when</span>
        <span class="c1">//memberServiceê°€ í–‰ë™ í–ˆì„ ë•Œ</span>
		<span class="nc">Member</span> <span class="n">searchedMember</span> <span class="o">=</span> <span class="n">memberService</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getMemberId</span><span class="o">());</span>
		
		<span class="c1">//then</span>
        <span class="c1">//ê²€ì¦ ë‹¨ê³„</span>
		<span class="n">verify</span><span class="o">(</span><span class="n">memberRepository</span><span class="o">).</span><span class="na">findById</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getMemberId</span><span class="o">());</span>
		<span class="n">assertEquals</span><span class="o">(</span><span class="n">searchedMember</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="ì½”ë“œì—-ëŒ€í•œ-ì„¤ëª…">ì½”ë“œì— ëŒ€í•œ ì„¤ëª…</h4>
<ul>
  <li>
    <p>@DisplayName : Testì— ëŒ€í•œ ì„¤ëª…</p>
  </li>
  <li>given : í…ŒìŠ¤íŠ¸ ì „ ìƒí™© ì„¤ì •, Mock ê°ì²´ í–‰ìœ„ ì„¤ì •
    <blockquote>
      <ul>
        <li>memberë¼ëŠ” ê°ì²´ ìƒì„±, memberRepository.findById(member.getMemberId()) ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ë©´ member ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>when : í…ŒìŠ¤íŠ¸ ìƒí™©ì´ ì¼ì–´ë‚¬ì„ ë•Œ
    <blockquote>
      <ul>
        <li>memberService.getMember(member.getMemberId())ê°€ ì‚¬ìš©ë˜ë©´ searchedMemberë¡œ ì •ì˜í•œë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>then : í…ŒìŠ¤íŠ¸ ê²€ì¦
    <blockquote>
      <ul>
        <li>verify :  memberRepository.findById(member.getMemberId()) ê°€ í•œ ë²ˆ ì˜ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ê²€ì¦í•œë‹¤.</li>
        <li>assertEquals : searchedMember, member ë‘ ê°ì²´ê°€ ê°™ì€ì§€ í™•ì¸í•œë‹¤.</li>
      </ul>
    </blockquote>
  </li>
</ul>

<p><br /></p>
<ul>
  <li>ì„±ê³µí•˜ë©´ ì´ˆë¡ ë§‰ëŒ€, ì‹¤íŒ¨í•˜ë©´ ë¹¨ê°„ ë§‰ëŒ€ê°€ ëœ¬ë‹¤.</li>
  <li>Mock ê°ì²´ì˜ í–‰ìœ„ ì„¤ì •, ê²€ì¦ ë°©ë²•ì— ëŒ€í•´ì„œ ì¶”í›„ì— ë‹¤ì‹œ ë‹¤ë£¨ê² ë‹¤.</li>
</ul>

<p><br /></p>

<h4 id="controller-ë©”ì†Œë“œ-í…ŒìŠ¤íŠ¸ë¡œ-ê°„ë‹¨íˆ-ì•Œì•„ë³´ëŠ”-ì‚¬ìš©ë²•">Controller ë©”ì†Œë“œ í…ŒìŠ¤íŠ¸ë¡œ ê°„ë‹¨íˆ ì•Œì•„ë³´ëŠ” ì‚¬ìš©ë²•</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">@MockBean</code></li>
  <li><code class="language-plaintext highlighter-rouge">@WebMvcTest(MemberController.class)</code>
    <blockquote>
      <ul>
        <li>ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œë²„ì— ì˜¬ë¦¬ì§€ ì•Šê³  MVC í™˜ê²½ì„ ë§Œë“¤ì–´ ìš”ì²­, ì „ì†¡ ë° ì‘ë‹µì„ í…ŒìŠ¤íŠ¸í•˜ê²Œ ë„ì™€ì£¼ëŠ” Annotationì´ë‹¤.</li>
        <li>Controllerë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©ëœë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>MemberControllerì˜ getë°©ì‹ìœ¼ë¡œ â€œmembers/{memberId}â€ ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ memeberService.getMemberë¡œ ì—°ê²°ë˜ëŠ” ìƒí™©ì´ë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebMvcTest</span><span class="o">(</span><span class="nc">MemberController</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="c1">//MemberController í…ŒìŠ¤íŠ¸ ì„ ì–¸</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberControllerTest</span> <span class="o">{</span>
	
	<span class="nd">@MockBean</span> <span class="c1">//ê°€ì§œ ê°ì²´ Bean ë“±ë¡</span>
	<span class="kd">private</span> <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">;</span>
	
	<span class="nd">@Autowired</span> <span class="c1">// mockMvc ê°ì²´ë¥¼ ì£¼ì… ë°›ìŒ</span>
	<span class="kd">private</span> <span class="nc">MockMvc</span> <span class="n">mockMvc</span><span class="o">;</span>
    
    <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"Member ê°ì²´ ì¡°íšŒ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸"</span><span class="o">)</span>
	<span class="nd">@Test</span>
	<span class="kt">void</span> <span class="nf">getMemberTest</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="c1">//given</span>
        <span class="c1">//í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  ê°ì²´ ìƒì„±</span>
		<span class="nc">Member</span> <span class="n">searchedMember</span> <span class="o">=</span> <span class="nc">Member</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
						<span class="o">.</span><span class="na">memberId</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
						<span class="o">.</span><span class="na">memberUsername</span><span class="o">(</span><span class="s">"test"</span><span class="o">)</span>
						<span class="o">.</span><span class="na">memberPassword</span><span class="o">(</span><span class="s">"test111"</span><span class="o">)</span>
						<span class="o">.</span><span class="na">build</span><span class="o">();</span>
	
		<span class="c1">//MockBean ê°ì²´ í–‰ìœ„ ì •ì˜</span>
    	<span class="n">when</span><span class="o">(</span><span class="n">memberService</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getMemberId</span><span class="o">())).</span><span class="na">thenReturn</span><span class="o">(</span><span class="n">searchedMember</span><span class="o">);</span>
		
		<span class="c1">//when</span>
        <span class="c1">//í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ì´ ì™”ì„ ë•Œ</span>
		<span class="n">mockMvc</span><span class="o">.</span><span class="na">perform</span><span class="o">(</span><span class="n">get</span><span class="o">(</span><span class="s">"/members/"</span><span class="o">+</span><span class="n">member</span><span class="o">.</span><span class="na">getMemberId</span><span class="o">()))</span>
		
		<span class="c1">//then</span>
				<span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">status</span><span class="o">().</span><span class="na">isOk</span><span class="o">())</span> <span class="c1">//200 ìƒíƒœ ì½”ë“œì¸ì§€</span>
				<span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">model</span><span class="o">().</span><span class="na">attribute</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">searchedmember</span><span class="o">))</span> 
                <span class="c1">//modelì— ê°’ë“¤ì´ ì˜ ë‹´ê²¼ëŠ”ì§€</span>
                <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">view</span><span class="o">().</span><span class="na">name</span><span class="o">(</span><span class="s">"member"</span><span class="o">));</span> <span class="c1">//view ìƒì„±ì´ ì˜ë˜ì—ˆëŠ”ì§€</span>
				<span class="o">.</span><span class="na">andDO</span><span class="o">(</span><span class="n">print</span><span class="o">())</span> <span class="c1">//ìš”ì²­ ì‘ë‹µ ì •ë³´ ì½˜ì†”ì— ì¶œë ¥</span>
 	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="ì½”ë“œì—-ëŒ€í•œ-ì„¤ëª…-1">ì½”ë“œì— ëŒ€í•œ ì„¤ëª…</h5>
<ul>
  <li>MockMvcì„ ì´ìš©í•˜ì—¬ Controller í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ì˜ì¡´ì„±ì´ ìˆëŠ” ê°ì²´ë¥¼ ëª¨ë‘ MockBeanìœ¼ë¡œ ë“±ë¡í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>
  <li>given : í…ŒìŠ¤íŠ¸ ì „ ìƒí™© ì„¤ì •, MockBean ê°ì²´ í–‰ìœ„ ì„¤ì •
    <blockquote>
      <ul>
        <li>í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•  searchedMember ê°ì²´ ìƒì„±</li>
        <li>memberService.getMember(member.getMemberId()) í˜¸ì¶œë  ë•Œ searchedMember í•œë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>when : í…ŒìŠ¤íŠ¸ ìƒí™©ì´ ì¼ì–´ë‚¬ì„ ë•Œ
    <blockquote>
      <ul>
        <li>mockMvc.perform(get(â€œ/members/{memberId}â€))ë¡œ get ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìƒí™©ì„ êµ¬í˜„í•œë‹¤.</li>
        <li>MockHttpServletRequestBuilderë¥¼ ì´ìš©í•´ ìƒí™©ì— ë§ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</li>
      </ul>
    </blockquote>
  </li>
  <li>then : í…ŒìŠ¤íŠ¸ ê²€ì¦
    <blockquote>
      <ul>
        <li>andExpectë¡œ ê¸°ëŒ€ë˜ëŠ” ì‘ë‹µì„ ê²€ì¦í•œë‹¤.</li>
        <li>MockMvcResultMatcherë¥¼ ì´ìš©í•´ ë” ë§ì€ ì •ë³´ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</li>
      </ul>
    </blockquote>
  </li>
</ul>

<p><br /></p>
<ul>
  <li>ì„±ê³µí•˜ë©´ ì´ˆë¡ ë§‰ëŒ€, ì‹¤íŒ¨í•˜ë©´ ë¹¨ê°„ ë§‰ëŒ€ê°€ ëœ¬ë‹¤.</li>
  <li>MockMvc ê°ì²´ì˜ í–‰ìœ„ ì„¤ì •, ê²€ì¦ ë°©ë²•ì— ëŒ€í•´ì„œ ì¶”í›„ì— ë‹¤ì‹œ ë‹¤ë£¨ê² ë‹¤.</li>
</ul>

<p><br /></p>

<p>Reference:</p>
<ul>
  <li><a href="https://www.crocus.co.kr/1555">[Mockito] Mock ê°œë…(Mock Object)_crocus img</a></li>
  <li><a href="https://jojoldu.tistory.com/226">SpringBoot @MockBean, @SpyBean ì†Œê°œ_ê¸°ì–µë³´ë‹¨ ê¸°ë¡ì„</a></li>
  <li><a href="https://hyeonyeee.tistory.com/98">Mockito annotion ì°¨ì´_hyeoneeeâ€™s blog</a></li>
</ul>
:ET